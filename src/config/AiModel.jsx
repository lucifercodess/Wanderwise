import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
  systemInstruction:
    "Generate Travel plan for Location: Las Vegas, for 3 days for a couple with cheap budget, give me hotel option list with hotel name , address, price, image  url and geo coordinates, rating, description and suggest iternary with place name,place details, geo coordinates, image url,ticket pricing, travel time in 3 days and best time to visit that place in json format\n ",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel plan for Location: Las Vegas, for 3 days for a couple with cheap budget, give me hotel option list with hotel name , address, price, image  url and geo coordinates, rating, description and suggest iternary with place name,place details, geo coordinates, image url,ticket pricing, travel time in 3 days and best time to visit that place in json format\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "tripDetails": {\n    "location": "Las Vegas, Nevada",\n    "duration": "3 days",\n    "travelers": "Couple",\n    "budget": "Cheap"\n  },\n  "hotels": [\n    {\n      "name": "Circus Circus Hotel & Casino",\n      "address": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "priceRange": "$50-$100/night (approx.)",\n      "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/CircusCircusLasVegas.jpg/1280px-CircusCircusLasVegas.jpg", \n      "geoCoordinates": {\n        "latitude": 36.1215,\n        "longitude": -115.1736\n      },\n      "rating": 3.5,\n      "description": "A classic Vegas hotel with a circus theme, offering affordable rooms and some entertainment options."\n    },\n    {\n      "name": "Luxor Hotel & Casino",\n      "address": "3900 S Las Vegas Blvd, Las Vegas, NV 89119",\n      "priceRange": "$60-$120/night (approx.)",\n      "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Luxor_Hotel_and_Casino_from_across_the_street.jpg/1280px-Luxor_Hotel_and_Casino_from_across_the_street.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0916,\n        "longitude": -115.1723\n      },\n      "rating": 3.8,\n      "description": "Pyramid-shaped hotel with a unique design, offering a range of amenities at varying price points."\n    },\n    {\n      "name": "Excalibur Hotel & Casino",\n      "address": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "priceRange": "$40-$90/night (approx.)",\n      "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Excalibur_Hotel_and_Casino.jpg/1280px-Excalibur_Hotel_and_Casino.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0913,\n        "longitude": -115.1753\n      },\n      "rating": 3.6,\n      "description": "Medieval-themed hotel located on the south Strip, known for budget-friendly accommodations."\n    }\n\n  ],\n  "itinerary": {\n    "day1": {\n      "morning": {\n        "place": "Fremont Street Experience",\n        "details": "Free walking area with light shows, street performers, and vintage Vegas atmosphere.",\n        "geoCoordinates": {\n          "latitude": 36.1699,\n          "longitude": -115.1403\n        },\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Fremont_Street_Experience_Las_Vegas.jpg/1280px-Fremont_Street_Experience_Las_Vegas.jpg",\n        "ticketPrice": "Free",\n        "travelTime": "30 mins by taxi/rideshare from most hotels on the Strip"\n      },\n      "afternoon": {\n        "place": "Neon Museum",\n        "details": "Outdoor museum showcasing vintage Las Vegas signs.",\n        "geoCoordinates": {\n          "latitude": 36.1771,\n          "longitude": -115.1318\n        },\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Neon_Museum_Las_Vegas.jpg/1280px-Neon_Museum_Las_Vegas.jpg",\n        "ticketPrice": "$25-$30 per person (approx.)",\n        "travelTime": "15 mins by taxi/rideshare from Fremont Street"\n      },\n      "evening": {\n        "place": "Free Show at a Casino",\n        "details": "Many casinos offer free shows – check schedules for fountains, light shows, or other performances.",\n        "geoCoordinates": {\n          "latitude": 36.109,  //Example coordinates - adjust based on chosen casino\n          "longitude": -115.171\n        },\n        "imageUrl": "N/A (Varies by casino)",\n        "ticketPrice": "Free",\n        "travelTime": "Varies depending on casino location"\n      }\n    },\n    "day2": {\n      "morning": {\n        "place": "The Strip (walking tour)",\n        "details": "Explore the famous Las Vegas Strip, taking in the sights and sounds of the hotels and casinos.",\n        "geoCoordinates": {\n          "latitude": 36.1110,\n          "longitude": -115.1739\n        },\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Las_Vegas_Strip_at_night.jpg/1280px-Las_Vegas_Strip_at_night.jpg",\n        "ticketPrice": "Free",\n        "travelTime": "Walkable, allow several hours"\n      },\n      "afternoon": {\n        "place": "Bellagio Conservatory & Botanical Gardens",\n        "details": "Free, stunning display of flowers and themed gardens.",\n        "geoCoordinates": {\n          "latitude": 36.1126,\n          "longitude": -115.1743\n        },\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Bellagio_Conservatory_%26_Botanical_Gardens_in_Las_Vegas.jpg/1280px-Bellagio_Conservatory_%26_Botanical_Gardens_in_Las_Vegas.jpg",\n        "ticketPrice": "Free",\n        "travelTime": "Short walk from other Strip locations"\n      },\n      "evening": {\n        "place": "Free Outdoor Concert/Entertainment",\n        "details": "Check local listings for free outdoor concerts or performances – many happen around the Strip.",\n        "geoCoordinates": {\n          "latitude": "N/A (Varies)",\n          "longitude": "N/A (Varies)"\n        },\n        "imageUrl": "N/A (Varies)",\n        "ticketPrice": "Free",\n        "travelTime": "Varies depending on location"\n      }\n    },\n    "day3": {\n      "morning": {\n        "place": "Seven Magic Mountains",\n        "details": "Colorful art installation south of Las Vegas – requires transportation.",\n        "geoCoordinates": {\n          "latitude": 36.045,\n          "longitude": -114.976\n        },\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Seven_Magic_Mountains_2016_1.jpg/1280px-Seven_Magic_Mountains_2016_1.jpg",\n        "ticketPrice": "Free",\n        "travelTime": "30-45 mins by car (rideshare recommended)"\n      },\n      "afternoon": {\n        "place": "Downtown Container Park",\n        "details": "Unique shopping and dining area made from shipping containers.",\n        "geoCoordinates": {\n          "latitude": 36.1626,\n          "longitude": -115.1395\n        },\n        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Downtown_Container_Park_Las_Vegas.jpg/1280px-Downtown_Container_Park_Las_Vegas.jpg",\n        "ticketPrice": "Free entry (shopping/dining costs extra)",\n        "travelTime": "15-20 mins by car/rideshare from Seven Magic Mountains"\n      },\n      "evening": {\n        "place": "Cheap Eats & Departure",\n        "details": "Enjoy a final affordable meal before heading to the airport or your next destination.",\n        "geoCoordinates": {\n          "latitude": "N/A (Varies)",\n          "longitude": "N/A (Varies)"\n        },\n        "imageUrl": "N/A",\n        "ticketPrice": "Varies",\n        "travelTime": "Varies depending on location and departure time"\n      }\n    }\n  },\n  "bestTimeToVisit": "Fall (September-November) or Spring (March-May) for pleasant weather."\n}\n```\n\n**Important Notes:**\n\n* **Hotel Prices:**  The price ranges are estimates and can fluctuate significantly based on the season, day of the week, and demand.  Always check current prices on booking sites like Expedia, Booking.com, etc.\n* **Transportation:** This itinerary assumes using budget-friendly transportation options like walking, public transport (where available), or ride-sharing services (Uber/Lyft).  Renting a car might be worthwhile if you plan on visiting places further outside the Strip, like Seven Magic Mountains.\n* **Food:**  The itinerary doesn\'t include specific restaurant recommendations, but many affordable food options exist in Las Vegas. Look for buffets (some offer excellent value), food courts, and fast-casual restaurants.\n* **Free Activities:** Las Vegas offers a surprising number of free activities. Take advantage of them to stick to your budget.\n* **Show Tickets:** If you\'re interested in seeing a show, look for discounted tickets online or through your hotel.\n* **Image URLs:** Some image URLs are placeholders; you can replace them with more specific images from your preferred source.  Use the provided coordinates to search for relevant images on Google Images or other services.\n\n\nThis JSON provides a framework.  Remember to confirm details (prices, showtimes, etc.) closer to your travel dates.  Have a great trip!\n',
        },
      ],
    },
  ],
});
